{"version":3,"sources":["../../src/controllers/entries.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { Entry } from '@prisma/client';\nimport GroupService from '@/services/groups.service';\nimport { CreateGroupDto } from '@/dtos/groups.dto';\nimport EntryService from '@/services/entry.service';\nimport { CreateEntryExitDto } from '@/dtos/process.dto';\n\nclass EntriesController {\n  public service = new EntryService();\n\n  public getAll = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const groups: Entry[] = await this.service.getAll();\n\n      res.status(200).json({ data: groups, message: 'findAll' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n//   public getGivenId = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n//     try {\n//       const id = Number(req.params.id);\n//       const findArea: Entry = await this.service(id);\n\n//       res.status(200).json({ data: findArea, message: 'findOne' });\n//     } catch (error) {\n//       next(error);\n//     }\n//   };\n\n  public create = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const data: CreateEntryExitDto = req.body;\n      const createData: Entry = await this.service.create(data);\n\n      res.status(201).json({ data: createData, message: 'created' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public update = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const id = Number(req.params.id);\n      const data: CreateEntryExitDto = req.body;\n      const groupData: Entry = await this.service.update(id, data);\n\n      res.status(200).json({ data: groupData, message: 'updated' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public delete = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\n    try {\n      const id = Number(req.params.id);\n      const deleteData: Entry = await this.service.delete(id);\n\n      res.status(200).json({ data: deleteData, message: 'deleted' });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport default EntriesController;\n"],"names":["EntriesController","service","EntryService","getAll","req","res","next","groups","status","json","data","message","error","create","body","createData","update","id","Number","params","groupData","delete","deleteData"],"mappings":"AAAA;;;;+BAkEA;;aAAA;;qDA9DyB;;;;;;AAGzB,IAAA,AAAMA,oBAAN,MAAMA;;aACGC,UAAU,IAAIC,qBAAY;aAE1BC,SAAS,OAAOC,KAAcC,KAAeC,OAAsC;YACxF,IAAI;gBACF,MAAMC,SAAkB,MAAM,IAAI,CAACN,OAAO,CAACE,MAAM;gBAEjDE,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMH;oBAAQI,SAAS;gBAAU;YAC1D,EAAE,OAAOC,OAAO;gBACdN,KAAKM;YACP;QACF;aAaOC,SAAS,OAAOT,KAAcC,KAAeC,OAAsC;YACxF,IAAI;gBACF,MAAMI,OAA2BN,IAAIU,IAAI;gBACzC,MAAMC,aAAoB,MAAM,IAAI,CAACd,OAAO,CAACY,MAAM,CAACH;gBAEpDL,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMK;oBAAYJ,SAAS;gBAAU;YAC9D,EAAE,OAAOC,OAAO;gBACdN,KAAKM;YACP;QACF;aAEOI,SAAS,OAAOZ,KAAcC,KAAeC,OAAsC;YACxF,IAAI;gBACF,MAAMW,KAAKC,OAAOd,IAAIe,MAAM,CAACF,EAAE;gBAC/B,MAAMP,OAA2BN,IAAIU,IAAI;gBACzC,MAAMM,YAAmB,MAAM,IAAI,CAACnB,OAAO,CAACe,MAAM,CAACC,IAAIP;gBAEvDL,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMU;oBAAWT,SAAS;gBAAU;YAC7D,EAAE,OAAOC,OAAO;gBACdN,KAAKM;YACP;QACF;aAEOS,SAAS,OAAOjB,KAAcC,KAAeC,OAAsC;YACxF,IAAI;gBACF,MAAMW,KAAKC,OAAOd,IAAIe,MAAM,CAACF,EAAE;gBAC/B,MAAMK,aAAoB,MAAM,IAAI,CAACrB,OAAO,CAACoB,MAAM,CAACJ;gBAEpDZ,IAAIG,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMY;oBAAYX,SAAS;gBAAU;YAC9D,EAAE,OAAOC,OAAO;gBACdN,KAAKM;YACP;QACF;;AACF;MAEA,WAAeZ"}