(this["webpackJsonppractum-app"]=this["webpackJsonppractum-app"]||[]).push([[0],{213:function(e,t,n){"use strict";n.r(t);var a=n(309),r=n(0),i=n(137),c=n.n(i),s=n(52),o=n(312),l=n(332),u=n(276),j=n(18),d=n(6),b=n(3),x=n(19),p=n(277),O=n(278),h=n(279),f=n(282),m=n(284),v=n(8),g=n(310),y=n(304),w=n(313),k=n(314),C=n(315),S=n(84),W=n(280),E=n(316),F=n(317),I=n(281),B=n(283),D=n(305),P=n(10),T=n(15),z=n(140),q=n.n(z).a.create({baseURL:"/api",withCredentials:!0}),V=n(1),R=Object(r.createContext)({}),A=function(e){var t=e.children,n=Object(r.useState)(),a=Object(d.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),x=b[0],p=b[1],O=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(),e.next=3,q.post("auth/logout");case 3:localStorage.clear(),localStorage.setItem("logout",Date.now());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("auth").then((function(e){var t,n,a,r,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data,s=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.authenticated;c(s),u(i),p(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();p(!0),e().catch((function(e){p(!1)}))}),[]),Object(V.jsx)(R.Provider,{value:{isLogged:i,setIsLogged:c,user:l,logout:h,loading:x},children:t})},N=function(){return Object(r.useContext)(R)},H=Object(v.a)(g.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(x.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),M=Object(v.a)(y.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(x.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(b.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),G=function(e){var t=e.children,n=N().logout,a=Object(r.useState)(!1),i=Object(d.a)(a,2),c=i[0],s=i[1],o=function(){s(!c)},l=Object(j.m)(),b=Object(j.j)().pathname;return Object(V.jsxs)(w.a,{sx:{display:"flex"},children:[Object(V.jsx)(u.a,{}),Object(V.jsx)(H,{position:"absolute",open:c,children:Object(V.jsxs)(k.a,{sx:{pr:"24px"},children:[Object(V.jsx)(C.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:o,sx:Object(x.a)({marginRight:"36px"},c&&{display:"none"}),children:Object(V.jsx)(p.a,{})}),Object(V.jsx)(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Practum Process Manager"}),Object(V.jsx)(C.a,{onClick:n,children:Object(V.jsx)(O.a,{color:"secondary"})})]})}),Object(V.jsxs)(M,{variant:"permanent",open:c,children:[Object(V.jsx)(k.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(V.jsx)(C.a,{onClick:o,children:Object(V.jsx)(h.a,{})})}),Object(V.jsx)(W.a,{}),Object(V.jsxs)(E.a,{component:"nav",children:[Object(V.jsxs)(F.a,{selected:"/dashboard"===b,onClick:function(){l("/dashboard")},children:[Object(V.jsx)(I.a,{children:Object(V.jsx)(f.a,{})}),Object(V.jsx)(B.a,{primary:"Dashboard"})]}),Object(V.jsxs)(F.a,{selected:"/users"===b,onClick:function(){l("/users")},children:[Object(V.jsx)(I.a,{children:Object(V.jsx)(m.a,{})}),Object(V.jsx)(B.a,{primary:"Usuarios"})]}),Object(V.jsx)(W.a,{sx:{my:1}})]})]}),Object(V.jsxs)(w.a,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(V.jsx)(k.a,{}),Object(V.jsx)(D.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:t})]})]})},L=n(311),U=n(299),J=n(306),X=function(){var e=N().setIsLogged,t=function(){var t=Object(T.a)(Object(P.a)().mark((function t(n){var a;return Object(P.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=new FormData(n.currentTarget),t.prev=2,t.next=5,q.post("auth/login",{email:a.get("email"),password:a.get("password")});case 5:e(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 29 ~ handleSubmit ~ error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsx)(w.a,{children:Object(V.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(V.jsx)(w.a,{mt:"25%",children:Object(V.jsxs)(L.a,{elevation:24,sx:{p:2,borderRadius:"0.5rem"},children:[Object(V.jsxs)(w.a,{sx:{backgroundColor:"#566573",borderRadius:"0.5rem",marginTop:-5,color:"white",boxShadow:12,padding:4},children:[Object(V.jsx)(S.a,{align:"center",variant:"h4",gutterBottom:!0,children:Object(V.jsx)("b",{children:"Iniciar Sesi\xf3n"})}),Object(V.jsx)(S.a,{align:"center",gutterBottom:!0,children:"Introduce tus credenciales"})]}),Object(V.jsxs)(w.a,{component:"form",onSubmit:t,mt:1,sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(V.jsx)(U.a,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,name:"email",id:"email",label:"Correo electr\xf3nico",autoComplete:"email"}),Object(V.jsx)(U.a,{margin:"normal",variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),Object(V.jsx)(J.a,{type:"submit",variant:"contained",sx:{mt:3,mb:4,mx:"auto"},children:"Iniciar Sesi\xf3n"})]})]})})})})},K=function(){return Object(V.jsxs)(j.d,{children:[Object(V.jsx)(j.b,{path:"/login",element:Object(V.jsx)(X,{})}),Object(V.jsx)(j.b,{path:"*",element:Object(V.jsx)(j.a,{to:"/login"})})]})},Q=n(11),Y=n(289),Z=n(154),$=n(323),_=n(324),ee=n(325),te=n(326),ne=n(327),ae=n(328),re=n(329),ie=n(330),ce=n(320),se=n(288),oe=n(321),le=n(307),ue=n(322),je={name:""},de=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=Object(r.useState)(je),c=Object(d.a)(i,2),s=c[0],o=c[1],l=function(){n(!1),a(),o(je)},u=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("areas",s);case 3:a(),l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(ce.a,{open:t,onClose:l,children:[Object(V.jsx)(se.a,{children:"Crear Area"}),Object(V.jsx)(oe.a,{children:Object(V.jsx)(le.a,{container:!0,spacing:2,children:Object(V.jsxs)(le.a,{item:!0,xs:12,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Area:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;o(Object(x.a)(Object(x.a)({},s),{},Object(b.a)({},n,a)))},fullWidth:!0,size:"small",margin:"dense"})]})})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:l,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:u,disabled:""===s.name,children:"Crear"})]})]})},be={name:""},xe=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=Object(r.useState)(be),c=Object(d.a)(i,2),s=c[0],o=c[1],l=function(){n(!1),a(),o(be)},u=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("groups",s);case 3:a(),l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(ce.a,{open:t,onClose:l,children:[Object(V.jsx)(se.a,{children:"Crear grupo"}),Object(V.jsx)(oe.a,{children:Object(V.jsx)(le.a,{container:!0,spacing:2,children:Object(V.jsxs)(le.a,{item:!0,xs:12,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Grupo:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;o(Object(x.a)(Object(x.a)({},s),{},Object(b.a)({},n,a)))},fullWidth:!0,size:"small",margin:"dense"})]})})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:l,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:u,disabled:""===s.name,children:"Crear"})]})]})},pe=n(300),Oe=n(298),he=n(308),fe=n(145),me={PaperProps:{style:{maxHeight:224,width:250}}};function ve(e,t){return{fontWeight:-1===t.indexOf(e)?500:600}}var ge={name:"",areaId:"",groupId:"",newEntries:[],existingEntries:[],newOutputs:[],existingOutputs:[],newTools:[],existingTools:[]},ye={name:"",description:""},we=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=e.groups,c=e.areas,s=e.actual,o=e.setActual,l=Object(r.useState)(ge),u=Object(d.a)(l,2),j=u[0],p=u[1],O=Object(r.useState)([]),h=Object(d.a)(O,2),f=h[0],m=h[1],v=Object(r.useState)([]),g=Object(d.a)(v,2),y=g[0],k=g[1],W=Object(r.useState)([]),E=Object(d.a)(W,2),F=E[0],I=E[1],B=Object(r.useState)(ye),D=Object(d.a)(B,2),z=D[0],R=D[1],A=Object(r.useState)(ye),N=Object(d.a)(A,2),H=N[0],M=N[1],G=Object(r.useState)(ye),L=Object(d.a)(G,2),X=L[0],K=L[1],Z=Object(r.useState)([]),_=Object(d.a)(Z,2),ee=_[0],te=_[1],ne=Object(r.useState)([]),ae=Object(d.a)(ne,2),re=ae[0],ie=ae[1],je=Object(r.useState)([]),de=Object(d.a)(je,2),be=de[0],xe=de[1],we=function(e){var t=e.target,n=t.name,a=t.value;R(Object(x.a)(Object(x.a)({},z),{},Object(b.a)({},n,a)))},ke=function(e){var t=e.target,n=t.name,a=t.value;M(Object(x.a)(Object(x.a)({},H),{},Object(b.a)({},n,a)))},Ce=function(e){var t=e.target,n=t.name,a=t.value;K(Object(x.a)(Object(x.a)({},X),{},Object(b.a)({},n,a)))},Se=function(){n(!1),a(),We()},We=function(){o(),p(ge),m([]),k([]),I([]),R(ye),M(ye),K(ye),te([]),ie([]),xe([])},Ee=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){var t;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=j).existingEntries=j.existingEntries.map((function(e){return e.id})),t.existingOutputs=j.existingOutputs.map((function(e){return e.id})),t.existingTools=j.existingTools.map((function(e){return e.id})),t.newEntries=ee,t.newOutputs=re,t.newTools=be,e.prev=7,e.next=10,q.post("process",t);case 10:a(),Se(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("entries").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;m(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("outputs").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;k(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("tools").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;I(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){void 0!==s&&(Fe(),Ie(),Be(),p(Object(x.a)(Object(x.a)({},j),{},{areaId:String(null===s||void 0===s?void 0:s.area),groupId:String(null===s||void 0===s?void 0:s.group)})))}),[t,s]),Object(V.jsxs)(ce.a,{open:t,onClose:Se,maxWidth:"xl",PaperProps:{style:{backgroundColor:"#F5F5F5"}},children:[Object(V.jsx)(se.a,{children:"Crear Proceso"}),Object(V.jsx)(oe.a,{children:Object(V.jsxs)(le.a,{container:!0,spacing:2,children:[Object(V.jsx)(le.a,{item:!0,xs:12,sm:6,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:1,p:2,bgcolor:"white"},children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Proceso:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:j.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;p(Object(x.a)(Object(x.a)({},j),{},Object(b.a)({},n,a)))},size:"small",margin:"dense",fullWidth:!0})]})}),Object(V.jsx)(le.a,{item:!0,xs:6,sm:3,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Grupo:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{value:j.groupId,onChange:function(e){p(Object(x.a)(Object(x.a)({},j),{},{groupId:e.target.value}))},children:i.map((function(e){return Object(V.jsx)($.a,{value:String(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:6,sm:3,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Area:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{value:j.areaId,onChange:function(e){p(Object(x.a)(Object(x.a)({},j),{},{areaId:e.target.value}))},children:c.map((function(e){return Object(V.jsx)($.a,{value:String(null===e||void 0===e?void 0:e.id),children:null===e||void 0===e?void 0:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Entradas"}),Object(V.jsx)(C.a,{disabled:!(z.name&&z.description),onClick:function(){te([].concat(Object(Q.a)(ee),[z])),R(ye)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:z.name,onChange:we,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripcion:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:z.description,onChange:we,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Entradas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:ee.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Entradas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:j.existingEntries,onChange:function(e){var t=e.target.value;p(Object(x.a)(Object(x.a)({},j),{},{existingEntries:t}))},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(V.jsx)(he.a,{label:e.name},e.id)}))})},MenuProps:me,children:f.map((function(e){return Object(V.jsx)($.a,{value:e,style:ve(e,j.existingEntries),children:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Salidas"}),Object(V.jsx)(C.a,{disabled:!(H.name&&H.description),onClick:function(){ie([].concat(Object(Q.a)(re),[H])),M(ye)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:H.name,onChange:ke,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripcion:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:H.description,onChange:ke,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Salidas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:re.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Salidas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:j.existingOutputs,onChange:function(e){var t=e.target.value;p(Object(x.a)(Object(x.a)({},j),{},{existingOutputs:t}))},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(V.jsx)(he.a,{label:e.name},e.id)}))})},MenuProps:me,children:y.map((function(e){return Object(V.jsx)($.a,{value:e,style:ve(e,j.existingOutputs),children:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Herramientas"}),Object(V.jsx)(C.a,{disabled:!(X.name&&X.description),onClick:function(){xe([].concat(Object(Q.a)(be),[X])),K(ye)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:X.name,onChange:Ce,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripcion:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:X.description,onChange:Ce,size:"small",margin:"dense"}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Herramientas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:be.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Herramientas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:j.existingTools,onChange:function(e){var t=e.target.value;p(Object(x.a)(Object(x.a)({},j),{},{existingTools:t}))},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(V.jsx)(he.a,{label:e.name},e.id)}))})},MenuProps:me,children:F.map((function(e){return Object(V.jsx)($.a,{value:e,style:ve(e,j.existingTools),children:e.name},e.id)}))})})]})})]})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:Se,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:Ee,disabled:""===j.name||""===j.groupId||""===j.areaId,children:"Crear"})]})]})},ke={name:""},Ce=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=e.areaToEdit,c=e.setAreaToEdit,s=Object(r.useState)(ke),o=Object(d.a)(s,2),l=o[0],u=o[1],j=function(){n(!1),a(),u(ke),c()},p=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("areas/".concat(i.id),l);case 3:a(),j(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!0===t&&u(Object(x.a)(Object(x.a)({},l),{},{name:i.name}))}),[t,i]),Object(V.jsxs)(ce.a,{open:t,onClose:j,children:[Object(V.jsx)(se.a,{children:"Editar area"}),Object(V.jsx)(oe.a,{children:Object(V.jsx)(le.a,{container:!0,spacing:2,children:Object(V.jsxs)(le.a,{item:!0,xs:12,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Area:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:l.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;u(Object(x.a)(Object(x.a)({},l),{},Object(b.a)({},n,a)))},fullWidth:!0,size:"small",margin:"dense"})]})})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:j,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:p,disabled:""===l.name,children:"Actualizar"})]})]})},Se={name:""},We=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=e.groupToEdit,c=e.setGroupToEdit,s=Object(r.useState)(Se),o=Object(d.a)(s,2),l=o[0],u=o[1],j=function(){n(!1),a(),u(Se),c()},p=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("groups/".concat(i.id),l);case 3:a(),j(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!0===t&&u(Object(x.a)(Object(x.a)({},l),{},{name:i.name}))}),[t,i]),Object(V.jsxs)(ce.a,{open:t,onClose:j,children:[Object(V.jsx)(se.a,{children:"Editar grupo"}),Object(V.jsx)(oe.a,{children:Object(V.jsx)(le.a,{container:!0,spacing:2,children:Object(V.jsxs)(le.a,{item:!0,xs:12,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Grupo:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:l.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;u(Object(x.a)(Object(x.a)({},l),{},Object(b.a)({},n,a)))},fullWidth:!0,size:"small",margin:"dense"})]})})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:j,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:p,disabled:""===l.name,children:"Actualizar"})]})]})},Ee={PaperProps:{style:{maxHeight:224,width:250}}};function Fe(e,t){return{fontWeight:t.find((function(t){return t.id===e}))?600:500}}var Ie={name:"",areaId:"",groupId:"",newEntries:[],existingEntries:[],newOutputs:[],existingOutputs:[],newTools:[],existingTools:[]},Be={name:"",description:""},De=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=e.actualProcess,c=e.setActualProcess,s=Object(r.useState)(Ie),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)([]),p=Object(d.a)(j,2),O=p[0],h=p[1],f=Object(r.useState)([]),m=Object(d.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)([]),k=Object(d.a)(y,2),W=k[0],E=k[1],F=Object(r.useState)(Be),I=Object(d.a)(F,2),B=I[0],D=I[1],z=Object(r.useState)(Be),R=Object(d.a)(z,2),A=R[0],N=R[1],H=Object(r.useState)(Be),M=Object(d.a)(H,2),G=M[0],L=M[1],X=Object(r.useState)([]),K=Object(d.a)(X,2),Z=K[0],_=K[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)([]),ie=Object(d.a)(re,2),je=ie[0],de=ie[1],be=function(e){var t=e.target,n=t.name,a=t.value;D(Object(x.a)(Object(x.a)({},B),{},Object(b.a)({},n,a)))},xe=function(e){var t=e.target,n=t.name,a=t.value;N(Object(x.a)(Object(x.a)({},A),{},Object(b.a)({},n,a)))},me=function(e){var t=e.target,n=t.name,a=t.value;L(Object(x.a)(Object(x.a)({},G),{},Object(b.a)({},n,a)))},ve=function(){n(!1),a(),ge()},ge=function(){c(),u(Ie),h([]),g([]),E([]),D(Be),N(Be),L(Be),_([]),ae([]),de([])},ye=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){var t;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=l).existingEntries=l.existingEntries.map((function(e){return e.id})),t.existingOutputs=l.existingOutputs.map((function(e){return e.id})),t.existingTools=l.existingTools.map((function(e){return e.id})),t.newEntries=Z,t.newOutputs=ne,t.newTools=je,e.prev=7,e.next=10,q.put("process/".concat(i.id),t);case 10:a(),ve(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("entries").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;h(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("outputs").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;g(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("tools").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;E(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("process/".concat(null===i||void 0===i?void 0:i.id)).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;n.entries=n.entries.map((function(e){return{id:e.entry.id,name:e.entry.name,description:e.entry.description}})),n.outputs=n.outputs.map((function(e){return{id:e.output.id,name:e.output.name,description:e.output.description}})),n.tools=n.tools.map((function(e){return{id:e.tool.id,name:e.tool.name,description:e.tool.description}})),u(Object(x.a)(Object(x.a)({},l),{},{name:n.name,groupId:String(n.groupId),areaId:String(n.areaId),existingEntries:n.entries,existingOutputs:n.outputs,existingTools:n.tools}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){void 0!==i&&t&&(Se(),we(),ke(),Ce())}),[t,i]),Object(r.useEffect)((function(){}),[l]),Object(V.jsxs)(ce.a,{open:t,onClose:ve,maxWidth:"xl",PaperProps:{style:{backgroundColor:"#F5F5F5"}},children:[Object(V.jsx)(se.a,{children:"Editar Proceso"}),Object(V.jsx)(oe.a,{children:Object(V.jsxs)(le.a,{container:!0,spacing:2,children:[Object(V.jsx)(le.a,{item:!0,xs:12,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:1,p:2,bgcolor:"white"},children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre de Proceso:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:l.name,onChange:function(e){var t=e.target,n=t.name,a=t.value;u(Object(x.a)(Object(x.a)({},l),{},Object(b.a)({},n,a)))},size:"small",margin:"dense",fullWidth:!0})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Entradas"}),Object(V.jsx)(C.a,{disabled:!(B.name&&B.description),onClick:function(){_([].concat(Object(Q.a)(Z),[B])),D(Be)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:B.name,onChange:be,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripci\xf3n:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:B.description,onChange:be,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Entradas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:Z.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Entradas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:l.existingEntries.map((function(e){return e.id})),onChange:function(e){var t=e.target.value.map((function(e){return O.find((function(t){return t.id===e}))})),n=Object(x.a)(Object(x.a)({},l),{},{existingEntries:Object(Q.a)(t)});u(n)},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var t=l.existingEntries.find((function(t){return t.id===e}));return Object(V.jsx)(he.a,{label:t.name},e)}))})},MenuProps:Ee,children:O.map((function(e){return Object(V.jsx)($.a,{value:e.id,style:Fe(e.id,l.existingEntries),children:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Salidas"}),Object(V.jsx)(C.a,{disabled:!(A.name&&A.description),onClick:function(){ae([].concat(Object(Q.a)(ne),[A])),N(Be)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:A.name,onChange:xe,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripci\xf3n:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:A.description,onChange:xe,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Salidas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:ne.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Salidas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:l.existingOutputs.map((function(e){return e.id})),onChange:function(e){var t=e.target.value.map((function(e){return v.find((function(t){return t.id===e}))})),n=Object(x.a)(Object(x.a)({},l),{},{existingOutputs:Object(Q.a)(t)});u(n)},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var t=l.existingOutputs.find((function(t){return t.id===e}));return Object(V.jsx)(he.a,{label:t.name},e)}))})},MenuProps:Ee,children:v.map((function(e){return Object(V.jsx)($.a,{value:e.id,style:Fe(e.id,l.existingOutputs),children:e.name},e.id)}))})})]})}),Object(V.jsx)(le.a,{item:!0,xs:12,sm:4,children:Object(V.jsxs)(w.a,{sx:{display:"flex",flexDirection:"column",borderRadius:2,p:2,bgcolor:"white"},children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(V.jsx)(S.a,{fontWeight:600,children:"Herramientas"}),Object(V.jsx)(C.a,{disabled:!(G.name&&G.description),onClick:function(){de([].concat(Object(Q.a)(je),[G])),L(Be)},children:Object(V.jsx)(Y.a,{})})]}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Nombre:"}),Object(V.jsx)(U.a,{id:"name",name:"name",type:"text",required:!0,value:G.name,onChange:me,size:"small",margin:"dense",fullWidth:!0}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Descripci\xf3n:"}),Object(V.jsx)(U.a,{id:"description",name:"description",type:"text",required:!0,value:G.description,onChange:me,size:"small",margin:"dense"}),Object(V.jsx)(S.a,{variant:"caption",fontWeight:600,color:fe.a[400],align:"right",children:"Herramientas agregadas manualmente"}),Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2},children:je.map((function(e,t){return Object(V.jsx)(he.a,{label:e.name,sx:{fontWeight:600}},t)}))}),Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Herramientas existentes:"}),Object(V.jsx)(pe.a,{children:Object(V.jsx)(Oe.a,{multiple:!0,value:l.existingTools.map((function(e){return e.id})),onChange:function(e){var t=e.target.value.map((function(e){return W.find((function(t){return t.id===e}))})),n=Object(x.a)(Object(x.a)({},l),{},{existingTools:Object(Q.a)(t)});u(n)},renderValue:function(e){return Object(V.jsx)(w.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var t=l.existingTools.find((function(t){return t.id===e}));return Object(V.jsx)(he.a,{label:t.name},e)}))})},MenuProps:Ee,children:W.map((function(e){return Object(V.jsx)($.a,{value:e.id,style:Fe(e.id,l.existingTools),children:e.name},e.id)}))})})]})})]})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:ve,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:ye,disabled:""===l.name,children:"Actualizar"})]})]})},Pe=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Boolean(n),c=Object(r.useState)(null),s=Object(d.a)(c,2),o=s[0],l=(s[1],Boolean(o),Object(r.useState)([])),u=Object(d.a)(l,2),j=u[0],b=u[1],x=Object(r.useState)([]),p=Object(d.a)(x,2),O=p[0],h=p[1],f=Object(r.useState)([]),m=Object(d.a)(f,2),v=m[0],g=m[1],y=Object(r.useState)([]),k=Object(d.a)(y,2),C=k[0],W=k[1],E=Object(r.useState)(),F=Object(d.a)(E,2),I=F[0],B=F[1],D=Object(r.useState)(),z=Object(d.a)(D,2),R=z[0],A=z[1],N=Object(r.useState)(),H=Object(d.a)(N,2),M=H[0],G=H[1],L=Object(r.useState)(),U=Object(d.a)(L,2),X=U[0],K=U[1],ce=Object(r.useState)(!1),se=Object(d.a)(ce,2),oe=se[0],le=se[1],ue=Object(r.useState)(!1),je=Object(d.a)(ue,2),be=je[0],pe=je[1],Oe=Object(r.useState)(!1),he=Object(d.a)(Oe,2),fe=he[0],me=he[1],ve=Object(r.useState)(!1),ge=Object(d.a)(ve,2),ye=ge[0],ke=ge[1],Se=Object(r.useState)(!1),Ee=Object(d.a)(Se,2),Fe=Ee[0],Ie=Ee[1],Be=Object(r.useState)(!1),Pe=Object(d.a)(Be,2),Te=Pe[0],ze=Pe[1],qe=function(){Ve(),Re(),Ae()},Ve=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("groups").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;b(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("areas").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;h(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("process").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;g(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Ve(),Re(),Ae()}),[]);return Object(r.useEffect)((function(){!function(){var e=[];O.forEach((function(t){var n=[];j.forEach((function(e){var a=v.filter((function(n){return n.areaId===t.id&&n.groupId===e.id}));n.push(Object(Q.a)(a))})),e.push(n)})),W(e)}()}),[v]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(w.a,{sx:{display:"flex",justifyContent:"flex-end",mb:4},children:[Object(V.jsx)(J.a,{variant:"contained",onClick:function(e){a(e.currentTarget)},children:"Agregar"}),Object(V.jsxs)(Z.a,{anchorEl:n,open:i,onClose:function(){a(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(V.jsx)($.a,{onClick:function(){a(null),pe(!0)},children:"Area"},1),Object(V.jsx)($.a,{onClick:function(){a(null),le(!0)},children:"Grupo"},2),Object(V.jsx)($.a,{onClick:function(){a(null),me(!0)},children:"Proceso"},3)]})]}),Object(V.jsx)(_.a,{children:Object(V.jsxs)(ee.a,{sx:{minWidth:650,"& .MuiTableCell-root:hover":{bgcolor:"secondary.main"}},children:[Object(V.jsx)(te.a,{children:Object(V.jsxs)(ne.a,{sx:{"& td":{border:0}},children:[Object(V.jsx)(ae.a,{sx:{"&:hover":{bgcolor:"transparent !important"}}}),j.map((function(e){return Object(V.jsx)(re.a,{title:"Editar",placement:"top",children:Object(V.jsx)(ae.a,{onClick:function(){!function(e){A(e),ke(!0)}(e)},align:"center",sx:{background:"#D0D3D4",borderRadius:1},children:Object(V.jsx)("b",{children:null===e||void 0===e?void 0:e.name})})},e.id)}))]})}),Object(V.jsx)(ie.a,{children:O.map((function(e,t){var n;return Object(V.jsxs)(ne.a,{sx:{"& td":{border:0}},children:[Object(V.jsx)(re.a,{title:"Editar",placement:"top",children:Object(V.jsx)(ae.a,{sx:{position:"sticky",left:0,background:"#D0D3D4",borderRadius:1},onClick:function(){!function(e){G(e),Ie(!0)}(e)},component:"th",scope:"row",align:"center",children:Object(V.jsxs)("b",{children:[" ",e.name]})})},e.id),null===(n=C[t])||void 0===n?void 0:n.map((function(t,n){return Object(V.jsx)(ae.a,{align:"center",sx:{background:"#F8F9F9",borderRadius:1},onClick:function(){0===t.length&&(me(!0),B({area:e.id,group:j[n].id}))},children:0!==t.length?null===t||void 0===t?void 0:t.map((function(e){return Object(V.jsx)("div",{onClick:function(){K(e),ze(!0)},children:Object(V.jsx)(S.a,{children:null===e||void 0===e?void 0:e.name})},e.id)})):Object(V.jsx)(Y.a,{sx:{fill:"#F8F9F9"}})},n)}))]},e.name)}))})]})}),Object(V.jsx)(xe,{visible:oe,setVisible:le,refetch:qe}),Object(V.jsx)(de,{visible:be,setVisible:pe,refetch:qe}),Object(V.jsx)(we,{visible:fe,setVisible:me,refetch:qe,groups:j,areas:O,actual:I,setActual:B}),Object(V.jsx)(We,{visible:ye,setVisible:ke,refetch:qe,groupToEdit:R,setGroupToEdit:A}),Object(V.jsx)(Ce,{visible:Fe,setVisible:Ie,refetch:qe,areaToEdit:M,setAreaToEdit:G}),Object(V.jsx)(De,{visible:Te,setVisible:ze,refetch:qe,actualProcess:X,setActualProcess:K})]})},Te=n(291),ze=n(292),qe=n(293),Ve=n(302),Re=n(296),Ae={email:"",password:""},Ne=function(e){var t=e.visible,n=e.setVisible,a=e.refetch,i=Object(r.useState)(Ae),c=Object(d.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(d.a)(l,2),j=u[0],p=u[1],O=function(e,t){"clickaway"!==t&&p(!1)},h=function(){n(!1),a(),o(Ae)},f=function(e){var t=e.target,n=t.name,a=t.value;o(Object(x.a)(Object(x.a)({},s),{},Object(b.a)({},n,a)))},m=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.post("users",s);case 3:h(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 45 ~ onFinish ~ error",e.t0),p(!0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ve.a,{open:j,autoHideDuration:3e3,onClose:O,children:Object(V.jsx)(Re.a,{onClose:O,severity:"error",sx:{width:"100%"},children:"Error al crear!"})}),Object(V.jsxs)(ce.a,{open:t,onClose:h,children:[Object(V.jsx)(se.a,{children:"Crear usuario"}),Object(V.jsx)(oe.a,{children:Object(V.jsxs)(le.a,{container:!0,spacing:2,children:[Object(V.jsxs)(le.a,{item:!0,xs:12,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Correo a utilizar:"}),Object(V.jsx)(U.a,{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:f,fullWidth:!0,size:"small",margin:"dense"})]}),Object(V.jsxs)(le.a,{item:!0,xs:!0,children:[Object(V.jsx)(S.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Contrase\xf1a:"}),Object(V.jsx)(U.a,{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:f,fullWidth:!0,size:"small",margin:"dense"})]})]})}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{color:"error",variant:"contained",onClick:h,children:"Cancelar"}),Object(V.jsx)(J.a,{color:"success",variant:"contained",onClick:m,children:"Crear"})]})]})]})},He=n(331),Me=function(e){var t=e.visible,n=e.setVisible,a=e.user,r=e.refetch,i=function(){n(!1),r()},c=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("users/".concat(null===a||void 0===a?void 0:a.id));case 3:i(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 22 ~ onDelete ~ error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(ce.a,{open:t,children:[Object(V.jsxs)(oe.a,{children:[Object(V.jsxs)(He.a,{gutterBottom:!0,variant:"h6",fontWeight:600,children:["\xbfSeguro que deseas borrar ",null===a||void 0===a?void 0:a.email,"?"]}),Object(V.jsx)(S.a,{variant:"body1",children:"Al borrar este usuario no podr\xe1s volver a recuperarlo."})]}),Object(V.jsxs)(ue.a,{children:[Object(V.jsx)(J.a,{onClick:i,children:"Cancelar"}),Object(V.jsx)(J.a,{variant:"contained",color:"error",onClick:c,children:"Borrar"})]})]})},Ge=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(d.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)([]),u=Object(d.a)(l,2),j=u[0],b=u[1],x=Object(r.useState)({}),p=Object(d.a)(x,2),O=p[0],h=p[1],f=[{field:"email",headerName:"Correo",flex:.75},{field:"edit",headerName:"Opciones",flex:.25,renderCell:function(e){return Object(V.jsxs)(w.a,{children:[Object(V.jsx)(J.a,{startIcon:Object(V.jsx)(Te.a,{})}),Object(V.jsx)(J.a,{startIcon:Object(V.jsx)(ze.a,{}),onClick:function(){m(e.row)}})]})}}],m=function(e){o(!0),h(e)},v=function(){var e=Object(T.a)(Object(P.a)().mark((function e(){return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("users").then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;b(n)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 55 ~ findUsers ~ error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(w.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(V.jsx)(J.a,{variant:"contained",endIcon:Object(V.jsx)(Y.a,{}),onClick:function(){a(!0)},children:"Nuevo"})}),Object(V.jsx)(L.a,{sx:{mt:2},children:Object(V.jsx)(qe.a,{autoHeight:!0,columns:f,rows:j,hideFooter:!0})}),Object(V.jsx)(Ne,{visible:n,setVisible:a,refetch:v}),Object(V.jsx)(Me,{visible:s,setVisible:o,user:O,refetch:v})]})},Le=function(){return Object(V.jsx)(s.b,{to:"/dashboard",children:"Regresaras"})},Ue=function(){var e=N(),t=e.isLogged,n=e.loading;return n?Object(V.jsx)(o.a,{open:n,sx:{zIndex:1500},children:Object(V.jsx)(l.a,{})}):t?Object(V.jsxs)(G,{children:[Object(V.jsx)(u.a,{}),Object(V.jsxs)(j.d,{children:[Object(V.jsx)(j.b,{path:"/dashboard",element:Object(V.jsx)(Pe,{})}),Object(V.jsx)(j.b,{path:"/process",element:Object(V.jsx)(Le,{})}),Object(V.jsx)(j.b,{path:"/users",element:Object(V.jsx)(Ge,{})}),Object(V.jsx)(j.b,{path:"*",element:Object(V.jsx)(j.a,{to:"/dashboard"})})]})]}):Object(V.jsx)(K,{})},Je=n(153),Xe=Object(Je.a)({palette:{primary:{main:"#566573"},secondary:{main:"#D6DBDF"},background:{default:"#F5F5F5"}},responsiveFontSizes:!0});c.a.createRoot(document.getElementById("root")).render(Object(V.jsx)(a.a,{theme:Xe,children:Object(V.jsx)(s.a,{basename:"/",children:Object(V.jsx)(A,{children:Object(V.jsx)(Ue,{})})})}))}},[[213,1,2]]]);
//# sourceMappingURL=main.442f6773.chunk.js.map